1
00:00:01,090 --> 00:00:04,349
Congrats, you have made it
almost through the UKF.

2
00:00:05,730 --> 00:00:08,980
This is the last step you need to learn,
and then you will be ready to

3
00:00:08,980 --> 00:00:13,839
implement your own UKF and
fuse data from different sensors.

4
00:00:13,839 --> 00:00:17,000
This is a very powerful and
useful ability.

5
00:00:17,000 --> 00:00:21,399
So let's see how the final step works
and how you can update your state and

6
00:00:21,399 --> 00:00:24,359
your covariance matrix
with the measurement.

7
00:00:24,359 --> 00:00:28,820
What we have is this, the predicted
state mean and covariance and

8
00:00:28,820 --> 00:00:32,320
the predicated measurement mean and
covariance.

9
00:00:32,320 --> 00:00:35,252
But there's one more thing that we need,
and

10
00:00:35,252 --> 00:00:40,990
this is the actual measurement zk+1
that we receive for the time step k+1.

11
00:00:40,990 --> 00:00:43,490
This is actually the first
time we really need to

12
00:00:43,490 --> 00:00:44,730
know the measurement values.

13
00:00:45,859 --> 00:00:49,630
What we needed right from the beginning
was the time of the measurement, so

14
00:00:49,630 --> 00:00:52,179
we could predict to the correct time.

15
00:00:52,179 --> 00:00:56,159
And later, the sensor type so we could
use the correct measurement model

16
00:00:56,159 --> 00:00:58,299
in the measurement prediction step.

17
00:00:58,299 --> 00:01:01,890
But this is the first time where we
look into the measurement values.

18
00:01:03,009 --> 00:01:06,079
The update calculation closes
the processing chain and

19
00:01:06,079 --> 00:01:11,670
produces the updated state mean and
the updated state covariance matrix.

20
00:01:11,670 --> 00:01:15,350
These equations are exactly the same
as for the standard Kalman filter.

21
00:01:16,530 --> 00:01:21,064
The only difference here is how
you calculate the Kalman gain K.

22
00:01:21,064 --> 00:01:24,805
Here you need the cross-correlation
matrix between the predicted sigma

23
00:01:24,805 --> 00:01:26,253
points in the state space and

24
00:01:26,254 --> 00:01:29,960
the predicted sigma points
in the measurement space.

25
00:01:29,959 --> 00:01:30,824
And that's it.

26
00:01:30,825 --> 00:01:35,457
With this, you're done processing
the measurement at time step k+1, and

27
00:01:35,456 --> 00:01:39,390
you're ready to handle the next
measurement at time step k+2.

